<div class="cart">
    <div class="cart_header">
        <h1>Cart</h1>
        <form class="cart_wrapper" action="/cart" method="post">
            <div class="cart_items cart_block">
                {% for item in cart.items %}
                    <div class="cart_item">
                        <div class="cart_item_image">
                            <img src="{{ item.image | image_url: '100x' }}" alt="{{ item.product.title }}" width="100" height="100">
                        </div>
                        <div class="cart_item_info">
                            <h2>{{ item.product.title }}</h2>
                            <p>{{ item.product.price | money }}</p>
                            <p>{{ item.quantity }}</p>
                            <p>{{ item.total_price | money }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="cart_summary cart_block">
                <div class="cart_subtotal">
                    <span class="cart_subtotal_label">Subtotal</span>
                    <span class="cart_subtotal_value">{{ cart.total_price | money }}</span>
                </div>
                <button type="submit" class="button" name="checkout">Checkout</button>
                {% for item in cart.items %}
                    <div class="cart_item_remove">
                        <a href="{{ item.url_to_remove }}">Remove {{ item.product.title }}</a>
                    </div>
                {% endfor %}
                <div class="cart_item_update">
                    <button type="submit" class="button" name="update">Update Quantity</button>
                </div>
            </div>
        </form>
        {% for item in cart.items %}
            {% unless item.properties == empty %}
                {% for property in item.properties %}
                    {{ property.first }}:
                
                {% if property.last contains '/uploads/' %}
                    <a href="{{ property.last }}">{{ property.last | split: '/' | last }}</a>
                {% else %}
                    {{ property.last }}
                {% endif %}
                {% endfor %}
            {% endunless %}
            {% endfor %}
    </div>
</div>